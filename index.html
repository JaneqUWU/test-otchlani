<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>test otchłani</title>
    <link rel="icon" type="image/x-icon" href="icon.ico">
		<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=PT+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Titillium+Web&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inconsolata&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Cabin&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Arimo&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Work+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Rubik&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Archivo+Narrow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Zilla+Slab&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Asap&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Signika&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Karla&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Manrope&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Hind&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Exo+2&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Assistant&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Mulish&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Heebo&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Oxygen&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Spartan&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Abel&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Exo&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Overpass&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Yanone+Kaffeesatz&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Catamaran&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Chivo&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Prompt&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Public+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Spectral&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Kumbh+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Arvo&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lexend&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM+Mono&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=PT+Serif&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Rokkitt&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Slabo+27px&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Noticia+Text&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Domine&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Crete+Round&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Libre+Franklin&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=News+Cycle&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Gudea&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Istok+Web&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=BenchNine&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Hind+Madurai&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Kreon&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Abhaya+Libre&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Vollkorn&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Average+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Didact+Gothic&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Glegoo&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Jost&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Martel&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Neuton&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Overlock&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Pathway+Gothic+One&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Rasa&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Spectral+SC&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Syne&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Tajawal&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Teko&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Trirong&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Unna&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Volkhov&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Ysabeau&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Zeyada&display=swap" rel="stylesheet">
        <style>
          body {
            background: #ceb189;
          }
          div {
            position: relative;
            top: 48px;
          }
          #obraz {
            float: right;
            position: relative;
          }
          input {
            position: relative;
            top: 12px;
            right: 24px;
            float: right;
          }
          button {
            position: relative;
            top: 12px;
            right: 24px;
            float: right;
          }
          nav {
            position: fixed;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 48px;
            background: #ceb189;
            -webkit-box-shadow: 0px -1px 24px 0px rgba(97, 80, 56, 1);
            -moz-box-shadow: 0px -1px 24px 0px rgba(97, 80, 56, 1);
            box-shadow: 0px -1px 24px 0px rgba(97, 80, 56, 1);
            z-index:999;
            border-bottom: 2px solid rgba(97, 80, 56, 1);
          }
          #logo {
            position: relative;
            float: left;
          }
          #nazwa {
            position: relative;
            top: -12px;
            float: left;
          }
          @keyframes obracanie {
            from {
              transform: rotate(0deg);
            }
            to {
              transform: rotate(360deg);
            }
          }
        </style>
	</head>
	<body>
    <nav>
      <button onclick="generujTekst()">Testuj otchłań</button>
		  <input id="seed" placeholder="Wpisz swoje lęki" />
      <img id="logo" src="logo.png" height="48px"/>
      <h1 id="nazwa">test otchłani</h1>
    </nav>
    <div>
      <h1 id="tytul"></h1>
      <img id="obraz" src="logo.png" width="500px"/>
      <p id="tekst"><b>Witaj na teście otchłani!</b><br>Na tej stronie możesz przeprowadzać testy otchłani.<br>Przetestuj swoją otchłań i dowiedz się więcej na temat testu otchłani!<br>Przeprowadź test otchłani <b>CAŁKOWICIE ZA DARMO</b> tylko i wyłącznie tutaj!<br>Nie czekaj! Zrób to juz dziś z naszym testem otchłani opracowanym we współpracy z Uniwersytetem Harvarda.</p>
    </div>
  <script src="https://cdn.jsdelivr.net/npm/seedrandom@3.0.5/seedrandom.min.js"></script>
  <script>
	  const lacinToCyryl = {
  a: 'а', b: 'б', c: 'ц', d: 'д', e: 'е', f: 'ф',
  g: 'г', h: 'х', i: 'и', j: 'й', k: 'к', l: 'л',
  m: 'м', n: 'н', o: 'о', p: 'п', q: 'қ', r: 'р',
  s: 'с', t: 'т', u: 'у', v: 'в', w: 'щ', x: 'кс',
  y: 'ы', z: 'з',
  A: 'А', B: 'Б', C: 'Ц', D: 'Д', E: 'Е', F: 'Ф',
  G: 'Г', H: 'Х', I: 'И', J: 'Й', K: 'К', L: 'Л',
  M: 'М', N: 'Н', O: 'О', P: 'П', Q: 'Қ', R: 'Р',
  S: 'С', T: 'Т', U: 'У', V: 'В', W: 'Щ', X: 'КС',
  Y: 'Ы', Z: 'З'
};
	  function zamienNaCyrylice(html) {
  return html.replace(/(<[^>]+>)|([^<]+)/g, (match, tag, text) => {
    if (tag) return tag; // nie zmieniamy tagów HTML
    return text.split('').map(litera => {
      if (Math.random() < 0.3 && lacinToCyryl[litera]) {
        return lacinToCyryl[litera];
      }
      return litera;
    }).join('');
  });
	  }
    async function generujTekst() {
      const seed = document.getElementById('seed').value || 'default';
      const rng = new Math.seedrandom(seed);
      const res = await fetch('slowa.json');
      const slowa = await res.json(); 
      const znaki = ['.', ',', '!', '?', ' -', '...', '?!', '.<br>', '.<br><br>', '?<br>', '?<br><br>', '!<br>', '!<br><br>', '...<br>', '...<br><br>', '?!<br>', '?!<br><br>'];
      const czcionki = [
  "Roboto", "Open Sans", "Lato", "Montserrat", "Oswald", "Raleway", "PT Sans", "Source Sans Pro",
  "Ubuntu", "Merriweather", "Nunito", "Playfair Display", "Poppins", "Titillium Web", "Fira Sans",
  "Inconsolata", "Cabin", "Quicksand", "Libre Baskerville", "Arimo", "Josefin Sans", "Anton",
  "Work Sans", "Rubik", "Archivo Narrow", "Zilla Slab", "Crimson Text", "Asap", "Signika", "Karla",
  "Manrope", "Barlow", "Hind", "Varela Round", "IBM Plex Sans", "Exo 2", "DM Sans", "Assistant",
  "Mulish", "Heebo", "Oxygen", "Spartan", "DM Serif Display", "Abel", "Exo", "Overpass", "Questrial",
  "Yanone Kaffeesatz", "Catamaran", "Chivo", "Prompt", "Public Sans", "Be Vietnam Pro", "Spectral",
  "Kumbh Sans", "Fira Mono", "Arvo", "Lexend", "DM Mono", "Space Grotesk", "EB Garamond", "PT Serif",
  "Nanum Gothic", "Rokkitt", "Slabo 27px", "Noticia Text", "Domine", "Crete Round", "Amiri",
  "Libre Franklin", "News Cycle", "Gudea", "Istok Web", "BenchNine", "Hind Madurai", "Kreon",
  "Abhaya Libre", "Vollkorn", "Average Sans", "Didact Gothic", "Glegoo", "Jost", "Kanit", "Martel",
  "Neuton", "Overlock", "Pathway Gothic One", "Rasa", "Spectral SC", "Syne", "Tajawal", "Teko",
  "Trirong", "Unna", "Volkhov", "Ysabeau", "Zeyada"
];
      const obrazX = (120 + Math.floor(rng() * 800));
      const obrazY = (120 + Math.floor(rng() * 1000));
      const obrazXtrans = (320 + Math.floor(rng() * 600));
      const obrazYtrans = (240 + Math.floor(rng() * 700))
      const ileSlow = 300 + Math.floor(rng() * 2137);
      let wynik = [];
      function generujListe(rng, slowa) {
        const ileElementow = 1 + Math.floor(rng() * 40);
        let lista = '<ol>';
        for (let i = 0; i < ileElementow; i++) {
          let slowo = slowa[Math.floor(rng() * slowa.length)];
          let element = slowo;
          if (rng() < 0.04 && slowo.length > 1) {
            const index = Math.floor(rng() * slowo.length);
            const litera = slowo[index];
            if (rng() < 0.5) {
              slowo = slowo.slice(0, index) + litera + litera + slowo.slice(index + 1);
            } else {
              const alfabet = 'aąbcćdeęfghijklłmnńoópqrsśtuvwxyzźż';
              const nowaLitera = alfabet[Math.floor(rng() * alfabet.length)];
              slowo = slowo.slice(0, index) + nowaLitera + slowo.slice(index + 1);
            }
          }
          if (rng() < 0.04) {
            element = slowo.charAt(0).toUpperCase() + slowo.slice(1);
          }
          if (rng() < 0.015) {
            element = slowo.toUpperCase();
          }
          if (rng() < 0.03) {
            element = `<a href="#" onclick="generujTekstZZiarna('${slowo}')">${slowo}</a>`;
          }
          if (rng() < 0.035) {
            element = `<b>${slowo}</b>`;
          }
          if (rng() < 0.032) {
            element = `<i>${slowo}</i>`;
          }
          if (rng() < 0.02) {
            element = `<q>${slowo}</q>`;
          }
          if (rng() < 0.028) {
            element = `<s>${slowo}</s>`;
          }
          if (rng() < 0.008) {
            element = `<small>${slowo}</small>`;
          }
          if (rng() < 0.05) {
            const znak = znaki[Math.floor(rng() * znaki.length)];
            element += znak;
          }
          lista += `<li>${element}</li>`;
        }
        lista += '</ol>';
        return lista;
      }
      function generujUListe(rng, slowa) {
        const ileElementow = 1 + Math.floor(rng() * 40);
        let lista = '<ul>';
        for (let i = 0; i < ileElementow; i++) {
          let slowo = slowa[Math.floor(rng() * slowa.length)];
          let element = slowo;
          if (rng() < 0.04 && slowo.length > 1) {
            const index = Math.floor(rng() * slowo.length);
            const litera = slowo[index];
            if (rng() < 0.5) {
              slowo = slowo.slice(0, index) + litera + litera + slowo.slice(index + 1);
            } else {
              const alfabet = 'aąbcćdeęfghijklłmnńoópqrsśtuvwxyzźż';
              const nowaLitera = alfabet[Math.floor(rng() * alfabet.length)];
              slowo = slowo.slice(0, index) + nowaLitera + slowo.slice(index + 1);
            }
          }
          if (rng() < 0.04) {
            element = slowo.charAt(0).toUpperCase() + slowo.slice(1);
          }
          if (rng() < 0.015) {
            element = slowo.toUpperCase();
          }
          if (rng() < 0.03) {
            element = `<a href="#" onclick="generujTekstZZiarna('${slowo}')">${slowo}</a>`;
          }
          if (rng() < 0.035) {
            element = `<b>${slowo}</b>`;
          }
          if (rng() < 0.032) {
            element = `<i>${slowo}</i>`;
          }
          if (rng() < 0.02) {
            element = `<q>${slowo}</q>`;
          }
          if (rng() < 0.028) {
            element = `<s>${slowo}</s>`;
          }
          if (rng() < 0.008) {
            element = `<small>${slowo}</small>`;
          }
          if (rng() < 0.05) {
            const znak = znaki[Math.floor(rng() * znaki.length)];
            element += znak;
          }
          lista += `<li>${element}</li>`;
        }
        lista += '</ul>';
        return lista;
      }
      for (let i = 0; i < ileSlow; i++) {
        let slowo = slowa[Math.floor(rng() * slowa.length)];
        let element = slowo;
        if (rng() < 0.04 && slowo.length > 1) {
          const index = Math.floor(rng() * slowo.length);
          const litera = slowo[index];
          if (rng() < 0.5) {
            slowo = slowo.slice(0, index) + litera + litera + slowo.slice(index + 1);
          } else {
            const alfabet = 'aąbcćdeęfghijklłmnńoópqrsśtuvwxyzźż';
            const nowaLitera = alfabet[Math.floor(rng() * alfabet.length)];
            slowo = slowo.slice(0, index) + nowaLitera + slowo.slice(index + 1);
          }
        }
        if (rng() < 0.04) {
          element = slowo.charAt(0).toUpperCase() + slowo.slice(1);
        }
        if (rng() < 0.015) {
          element = slowo.toUpperCase();
        }
        if (rng() < 0.03) {
          element = `<a href="#" onclick="generujTekstZZiarna('${slowo}')">${slowo}</a>`;
        }
        if (rng() < 0.035) {
          element = `<b>${slowo}</b>`;
        }
        if (rng() < 0.032) {
          element = `<i>${slowo}</i>`;
        }
        if (rng() < 0.02) {
          element = `<q>${slowo}</q>`;
        }
        if (rng() < 0.028) {
          element = `<s>${slowo}</s>`;
        }
        if (rng() < 0.01) {
          element = `<br><h2>${slowo}</h2>`;
        }
        if (rng() < 0.008) {
          element = `<small>${slowo}</small>`;
        }
        if (rng() < 0.05) {
          const znak = znaki[Math.floor(rng() * znaki.length)];
          element += znak;
        }
        if (rng() < 0.0003) {
          const lista = generujListe(rng, slowa);
          element = lista;
        }
        if (rng() < 0.0003) {
          const lista = generujUListe(rng, slowa);
          element = lista;
        }
        wynik.push(element);
      }
      const tekst = wynik.join(' ');
      document.getElementById('tekst').innerHTML = tekst;
      document.getElementById('tytul').innerHTML = seed;
	if (rng() < 0.0002) {
		document.getElementById('tekst').innerHTML = zmienNaCyrylice(document.getElementById('tekst').innerHTML);
		document.getElementById('tytul').innerHTML = zmienNaCyrylice(document.getElementById('tytul').innerHTML);
	}
      const img = document.getElementById('obraz');
      img.src = `https://picsum.photos/seed/${encodeURIComponent(seed)}/${obrazX}/${obrazY}`;
      const filtry = [];
      if (rng() < 0.5) {
        filtry.push(`blur(${(rng() * 3).toFixed(10)}px)`);
      }
      if (rng() < 0.5) {
        filtry.push(`brightness(${(0.5 + rng()).toFixed(10)})`);
      }
      if (rng() < 0.5) {
        filtry.push(`contrast(${(0.5 + rng()).toFixed(10)})`);
      }
      if (rng() < 0.5) {
        filtry.push(`grayscale(${rng().toFixed(10)})`);
      }
      if (rng() < 0.5) {
        filtry.push(`sepia(${rng().toFixed(10)})`);
      }
      if (rng() < 0.3) {
        filtry.push(`hue-rotate(${Math.floor(rng() * 360)}deg)`);
      }
      if (rng() < 0.2) {
        filtry.push(`invert(${Math.floor(rng() * 100)}%)`);
      }
      if (rng() < 0.0002) {
        document.querySelector('body').style.animation = `obracanie 60s linear infinite`;
      } else {
        document.querySelector('body').style.animation = `none`;
      }
      obraz.style.filter = filtry.join(' ');
      const indeksCzcionki = Math.floor(rng() * czcionki.length);
      const czcionka = czcionki[indeksCzcionki];
      document.getElementById('tekst').style.fontFamily = `'${czcionka}', sans-serif`;
      document.getElementById('tytul').style.fontFamily = `'${czcionka}', sans-serif`;
      document.getElementById('nazwa').style.fontFamily = `'${czcionka}', sans-serif`;
      document.getElementById('obraz').style.width = `${obrazXtrans}px`;
      document.getElementById('obraz').style.height = `${obrazYtrans}px`;
      const rozmiarMin = 12;
      const rozmiarMax = 24;
      const rozmiarCzcionki = Math.floor(rng() * (rozmiarMax - rozmiarMin + 1)) + rozmiarMin;
      document.getElementById('tekst').style.fontSize = `${rozmiarCzcionki}px`;
    }
    function generujTekstZZiarna(ziarno) {
      document.getElementById('seed').value = ziarno;
      generujTekst();
    }
  </script>
	</body>
</html>
